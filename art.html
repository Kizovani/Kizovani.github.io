<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link type="text/css" rel="stylesheet" href="main.css">
    <title>Kizovani - Art</title>
    <style>
       :root {
    --white: #ffffff;
    --black: #000000;
  }

  @font-face {
    font-family: "Arame Mono";
    src: url("/res/fonts/ArameMono.ttf") format("truetype");
}

@font-face {
  font-family: "Hack-Regular";
  src: url(/res/fonts/Hack-Regular.ttf);
}

@font-face {
  font-family: "Hack-Bolditalic";
src: url(/res/fonts/Hack-BoldItalic.ttf);
}

@font-face {
  font-family: "Hack-Italic";
  src: url(/res/fonts/Hack-Italic.ttf);
}

@font-face {
  font-family: "Hack-Bold";
  src: url(/res/fonts/Hack-Bold.ttf);
}

html, body {
    width: 100%;
    height: 100%;
    font-family: "Hack-Regular";
}
img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.img-previews {
    position: absolute;
    top: 25%;
    left: 50%;
    transform: translateX(-50%);
    width: 30%;
    /* might not need this */
    /* opacity: 0; */
}

.img-previews img {
    width: 600px;
    height: 700px;
    padding: 1em 0;
}

.gallery-container {
    width: 100%;
    height: 100%;
    padding-top: 4em;
}
/* shouldnt need any gallery-1 stuff */
.gallery.layout-1-gallery {
    position: relative;
    width: 100%;
    height: 100%;
    transform: translateX(0%);

}
.gallery.layout-1-gallery .img {
    position: absolute;
    width: 100%;
    height: 125px;
}
.gallery.layout-2-gallery {
    padding-top: 0.5em;
    position: fixed;
    top: 25%;
    left: 10%;
    transform: translateX(0%);
}
.gallery.layout-2-gallery .img {
    width: 75px;
    height: 100%;
    margin-bottom: 1em;
}


    </style>
</head>
<body>
    <div class="gallery-container">
        <div class="gallery layout-2-gallery">
            <div class="img" id="img1">
                <img src="res/art/fallen_angel.jpg" alt="fallen_angel">
            </div>
            <div class="img" id="img1">
                <img src="res/art/Screenshot 2024-12-13 at 22-32-59 PITCH CANKER (@pitchcanker) • Instagram photos and videos.png" alt="wolf">
            </div>

        </div>
    </div>

    <div class="minimap"></div>

    <div class="img-previews">
        <img src="res/art/fallen_angel.jpg" alt="fallen_angel">
        <img src="res/art/Screenshot 2024-12-13 at 22-32-59 PITCH CANKER (@pitchcanker) • Instagram photos and videos.png" alt="wolf">
    </div>
<!-- LEGACY ART GALLERY -->
    <!-- <div class="art-gallery">
        <div>
            <h1>My Art Collection</h1>
            <p>I really wanted to show off some of the art I've liked over the years, most of these have been either my desktop wallpaper or phone background at one point or another. This page is intented to be the answer to when someone asks me something along the lines of "what kind of art do you like?". All of these works convey a deeper meaning to me, usually revolving around personal life events. I might get one of these tattooed one day. For now just enjoy my little gallery and learn a thing or two about these artists.</p>
        </div>
        <div class="art-item">
            <img src="/res/art/Screenshot 2024-12-13 at 22-32-59 PITCH CANKER (@pitchcanker) • Instagram photos and videos.png" alt="Art Piece 1" class="gallery-image">
            <div class="art-description">
                <h2>I WILL NEVER LET THIS FEELING GO</h2>
                <p>
                    I AM IN LOVE,
                    WITH MY ILLNESS,
                    MANIC,
                    AND HOWLING AT THE SUN,
                    I WAS RAISED BY BEDLAM,
                    I AM A BROTHER TO MAYHEM,
                    I WILL ROLL MY DROOLING JAWS,
                    I WILL DIG AT STONE WITH CLAWS
                    - pitchcanker
                </p>
            </div>
        </div>

        <div class="art-item">
            <img src="/res/art/fallen_angel.jpg" alt="Art Piece 2" class="gallery-image">
            <div class="art-description">
                <h2>I WILL NEVER LET THIS FEELING GO</h2>
                <p>
                    I AM IN LOVE,
                    WITH MY ILLNESS,
                    MANIC,
                    AND HOWLING AT THE SUN,
                    I WAS RAISED BY BEDLAM,
                    I AM A BROTHER TO MAYHEM,
                    I WILL ROLL MY DROOLING JAWS,
                    I WILL DIG AT STONE WITH CLAWS
                    - pitchcanker
                </p>
            </div>
        </div>
    </div> -->

    <!-- Fullscreen container -->
    <!-- <div class="fullscreen-container">
        <div class="close-button">&times;</div>
        <img class="fullscreen-image" alt="Fullscreen view">
    </div> -->

    <div class="menu-container">
        <div class="col col-1">
            <div class="menu-item" id="menu-toggle">menu</div>
        </div>
        <div class="col col-2">
            <div class="menu-item" id="close-menu">close</div>
            <div class="menu-item"><a href="index.html">home</a></div>
            <div class="menu-item"><a href="projects.html">projects</a></div>
            <div class="menu-item">art i like</div>
            <div class="menu-item"><a href="info.html">info</a></div>
            <div class="menu-item">contact</div>
        </div>
    </div>
    <div class="marquee-container">
        <div class="marquee">
            projects projects projects projects projects projects projects projects projects projects projects projects projects projects projects projects projects projects projects projects projects projects projects projects projects projects projects projects projects projects
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.3.1/gsap.min.js"></script>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script type="module" src="/main.js"></script>

    <!-- GSAP Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/Flip.min.js"></script>

    <script>
        // Register FLIP plugin
        gsap.registerPlugin(Flip);

        // Get DOM elements
        const gallery = document.querySelector('.art-gallery');
        const fullscreenContainer = document.querySelector('.fullscreen-container');
        const fullscreenImage = fullscreenContainer.querySelector('.fullscreen-image');
        const closeButton = document.querySelector('.close-button');
        let activeImage = null;

        // Function to open fullscreen ITS BROKEN LMFAO
        function openFullscreen(image) {
    // 1. Record the initial state
    const state = Flip.getState(image, {props: "transform"});
    
    // 2. Clone the image for the fullscreen view
    const clone = image.cloneNode(true);
    fullscreenContainer.appendChild(clone);
    
    // 3. Add fullscreen styling to the clone
    clone.style.position = "fixed";
    clone.style.maxWidth = "90vw";
    clone.style.maxHeight = "90vh";
    clone.style.width = "auto";
    clone.style.height = "auto";
    clone.style.top = "50%";
    clone.style.left = "50%";
    clone.style.transform = "translate(-50%, -50%)";
    clone.style.objectFit = "contain";
    clone.style.zIndex = "1001";
    
    // 4. Show the container
    fullscreenContainer.classList.add('active');
    
    // 5. Animate from the initial state to the new state
    Flip.from(state, {
        duration: 0.5,
        ease: "power2.inOut",
        absolute: true,
        targets: clone,
        onComplete: () => {
            // Store reference to the clone
            activeImage = clone;
        }
    });
}

function closeFullscreen() {
    if (!activeImage) return;

    // 1. Get the original image that was clicked
    const originalImage = document.querySelector(`img[src="${activeImage.src}"]`);
    
    // 2. Record the current state of the fullscreen image
    const state = Flip.getState(activeImage, {props: "transform"});
    
    // 3. Apply the original image's dimensions
    activeImage.style.width = "100%";
    activeImage.style.height = "400px";
    activeImage.style.objectFit = "cover";
    activeImage.style.position = "relative";
    activeImage.style.maxWidth = "none";
    activeImage.style.maxHeight = "none";
    activeImage.style.top = "auto";
    activeImage.style.left = "auto";
    activeImage.style.transform = "none";
    
    // 4. Animate back to the thumbnail position
    Flip.from(state, {
        duration: 0.5,
        ease: "power2.inOut",
        absolute: true,
        onComplete: () => {
            // Remove the clone and clean up
            activeImage.remove();
            activeImage = null;
            fullscreenContainer.classList.remove('active');
        }
    });
}


        // Add click listeners to all gallery images
        document.querySelectorAll('.art-item img').forEach(image => {
    image.addEventListener('load', () => {
        // Get the natural dimensions of the image
        const naturalWidth = image.naturalWidth;
        const naturalHeight = image.naturalHeight;
        const aspectRatio = naturalWidth / naturalHeight;

        // You can set a maximum width or height as needed
        const maxWidth = 800;  // example maximum width
        const maxHeight = 600; // example maximum height

        // Calculate new dimensions while maintaining aspect ratio
        let newWidth = naturalWidth;
        let newHeight = naturalHeight;

        // Scale down if wider than max width
        if (newWidth > maxWidth) {
            newWidth = maxWidth;
            newHeight = newWidth / aspectRatio;
        }

        // If height is still too tall, scale based on height instead
        if (newHeight > maxHeight) {
            newHeight = maxHeight;
            newWidth = newHeight * aspectRatio;
        }

        // Apply the new dimensions
        image.style.width = `${newWidth}px`;
        image.style.height = `${newHeight}px`;
    });

    // Add click handler
    image.addEventListener('click', () => openFullscreen(image));
});
        // Close fullscreen when clicking the close button or outside the image
        closeButton.addEventListener('click', closeFullscreen);
        fullscreenContainer.addEventListener('click', (e) => {
            if (e.target === fullscreenContainer) {
                closeFullscreen();
            }
        });

        // Close fullscreen with escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeFullscreen();
            }
        });
    </script>
</body>
</html>